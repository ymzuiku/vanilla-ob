function g(t){return!!(t.__isSvg||t.tagName==="svg"||t.ownerSVGElement)}function f(t,n){return!!(m[n]||/-/.test(n)||g(t))}var m={autofocus:!0,role:!0,viewBox:!0};function b(t){let n=[];if(t)if(typeof t=="string"){let s="",i=t.split(", ");i.forEach((e,a)=>{e=e.trim(),a===i.length-1?s+=`${e}[bind-state], ${e} [bind-state]`:s+=`${e}[bind-state], ${e} [bind-state],`}),n=document.body.querySelectorAll(s)}else Object.prototype.toString.call(t)==="[object Array]"?(n=[...t],t.forEach(s=>{n.push(...s.querySelectorAll("*"))})):(n=[t],n.push(...t.querySelectorAll("*")));return n}var y=(t,n)=>{t||(t="*");let s=b(n),i=b(t),e=i.length;for(let a=0;a<e;a++){let r=i[a];if(r.__bindState&&document.body.contains(r)){if(s.length){let o=s.length,u=!1;for(let l=0;l<o;l++){let c=s[l];if(c===r||c.contains(r)){u=!0;break}}if(u)continue}r.__bindState.forEach(o=>{o()})}}},d=(t,n,s)=>{if(n&&/^on/.test(n)){t[n]=s;return}if(typeof s!="function"){f(t,n)?t.setAttribute(n,s):typeof s=="object"?Object.assign(t[n],s):t[n]=s;return}t.__bindState||(t.setAttribute("bind-state",""),t.__bindState=new Map);let i;n===null?i=()=>s(t):f(t,n)?i=()=>{Promise.resolve(s(t)).then(e=>{t.getAttribute(n)!==e&&t.setAttribute(n,e)})}:i=()=>{Promise.resolve(s(t)).then(e=>{typeof e=="object"?Object.assign(t[n],e):t[n]!==e&&(t[n]=e)})},i(),t.__bindState.set(n,i)};export{m as attributeKeys,d as bindState,y as nextState};
